C:.
├───Functions
    └───forum.go
├───static
│   └───images
│   └───script.js
│   └───style.css
├───templates
│   └───region.tmpl
├───Dockerfile
├───go.mod
├───go.sum
├───main.go
├───.dockerignore
└───forum.db


CREATE TABLE Region (
    REGION_NAME VARCHAR(30) PRIMARY KEY,
    REGION_IMG_URL VARCHAR(255)
);

CREATE TABLE Department (
    DEPARTMENT_NAME VARCHAR(30) PRIMARY KEY,
    REGION_NAME VARCHAR(30),
    FOREIGN KEY (REGION_NAME) REFERENCES Region(REGION_NAME)
);

CREATE TABLE User (
    USERNAME VARCHAR(30) UNIQUE PRIMARY KEY,
    PASSWORD VARCHAR(255) UNIQUE,
    EMAIL VARCHAR(100) UNIQUE,
    PHOTO_URL VARCHAR(255),
    BIOGRAPHY TEXT
);

CREATE TABLE Chat (
    CHAT_NAME VARCHAR(50) PRIMARY KEY,
    DEPARTMENT_NAME VARCHAR(30),
    CHAT_DATETIME DATETIME,
    CHAT_TYPE VARCHAR(10), -- 'public' or 'private'
    FOREIGN KEY (DEPARTMENT_NAME) REFERENCES Department(DEPARTMENT_NAME)
);

CREATE TABLE Message (
    MESSAGE_ID INT PRIMARY KEY,
    CHAT_NAME VARCHAR(50),
    USERNAME VARCHAR(30),
    MESSAGE_DATETIME DATETIME,
    MESSAGE_TEXT TEXT,
    FOREIGN KEY (CHAT_NAME) REFERENCES Chat(CHAT_NAME),
    FOREIGN KEY (USERNAME) REFERENCES User(USERNAME)
);

CREATE TABLE Liked_Chat (
    CHAT_NAME VARCHAR(50),
    USERNAME VARCHAR(30),
    FOREIGN KEY (CHAT_NAME) REFERENCES Chat(CHAT_NAME),
    FOREIGN KEY (USERNAME) REFERENCES User(USERNAME)
);

CREATE TABLE Liked_Message (
    MESSAGE_ID INT,
    USERNAME VARCHAR(30),
    FOREIGN KEY (MESSAGE_ID) REFERENCES Message(MESSAGE_ID),
    FOREIGN KEY (USERNAME) REFERENCES User(USERNAME)
);

CREATE TABLE Member (
    USERNAME VARCHAR(30),
    CHAT_NAME VARCHAR(50),
    FOREIGN KEY (CHAT_NAME) REFERENCES Chat(CHAT_NAME),
    FOREIGN KEY (USERNAME) REFERENCES User(USERNAME)
);
